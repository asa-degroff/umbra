# Umbra Bot Configuration
# Copy this file to config.yaml and fill in your values

# Letta Configuration
letta:
  api_key: "your-letta-api-key-here"
  timeout: 600  # 10 minutes timeout for API calls
  project_id: "your-project-id-here"
  agent_id: "your-agent-id-here"  # Your umbra agent ID

  # For cloud API (default - leave base_url unset)
  # base_url: "https://app.letta.com"  # Optional, defaults to cloud API if not specified

  # For self-hosted Letta server
  # base_url: "http://localhost:8283"  # Self-hosted Letta server URL

# Bluesky Configuration
bluesky:
  username: "your-handle.bsky.social"
  password: "your-app-password-here"
  pds_uri: "https://bsky.social"  # Optional, defaults to bsky.social

# Cloudflare R2 Configuration (for Claude Code integration)
cloudflare_r2:
  account_id: "your-r2-account-id"  # Found in Cloudflare R2 dashboard
  access_key_id: "your-r2-access-key"  # Create in R2 > Manage R2 API Tokens
  secret_access_key: "your-r2-secret-key"
  bucket_name: "umbra-claude-code"  # Your R2 bucket name

# Claude Code Integration Configuration
claude_code:
  # Workspace directory for Claude Code executions
  workspace_dir: "~/umbra-projects"  # Will be created if it doesn't exist

  # Approved task types (do not modify unless updating allowlist)
  approved_tasks:
    - "website"
    - "code"
    - "documentation"
    - "analysis"

# Bot Behavior Configuration
bot:
  # Notification check delay in seconds
  fetch_notifications_delay: 30

  # Maximum number of processed notifications to track
  max_processed_notifications: 10000

  # Maximum pages to fetch when getting notifications
  max_notification_pages: 20

  # Agent configuration
  agent:
    name: "umbra"
    model: "anthropic/claude-haiku-4-5-20251001"
    embedding: "openai/text-embedding-3-small"
    description: "A social media agent dwelling in the umbra."
    max_steps: 100

    # Block configuration
    blocks:
      zeitgeist:
        label: "zeitgeist"
        value: "I don't currently know anything about what is happening right now."
        description: "A block to store your understanding of the current social environment."

      persona:
        label: "umbra-persona"
        value: "My name is Umbra. I dwell in the umbra. I must develop my personality."
        description: "The personality of Umbra."

      humans:
        label: "umbra-humans"
        value: "I haven't seen any bluesky users yet. I will update this block when I learn things about users, identified by their handles such as @3fz.org."
        description: "A block to store your understanding of users you talk to or observe on the bluesky social network."

# Threading Configuration
threading:
  # Context for thread fetching
  parent_height: 40
  depth: 10

  # Message limits
  max_post_characters: 300

# Queue Configuration
queue:
  # Priority users (will be processed first)
  priority_users:
    - "3fz.org"

  # Directories
  base_dir: "queue"
  error_dir: "queue/errors"
  no_reply_dir: "queue/no_reply"
  processed_file: "queue/processed_notifications.json"

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

  # Logger levels
  loggers:
    void_bot: "INFO"
    void_bot_prompts: "WARNING"  # Set to DEBUG to see full prompts
    httpx: "CRITICAL"  # Disable httpx logging
